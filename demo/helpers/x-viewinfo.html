<link rel="import" href="../../cosmoz-viewinfo.html">
<dom-module id="x-viewinfo">
	<template>
		<slot></slot>
		<span>Mobile: </span><span>{{ viewInfo.mobile }}</span><br/>
		<span>Tablet: </span><span>{{ viewInfo.tablet }}</span><br/>
		<span>Desktop: </span><span>{{ viewInfo.desktop }}</span><br/>
		<span>Portrait: </span><span>{{ viewInfo.portrait }}</span><br/>
		<span>Landscape: </span><span>{{ viewInfo.landscape }}</span><br/>
		<span>Effects: </span><span>{{ viewInfo.effects }}</span><br/>
		<span>Height: </span><span>{{ viewInfo.height }}</span><br/>
		<span>Width: </span><span>{{ viewInfo.width }}</span><br/>
	</template>
	<script type="text/javascript">
		/*global Cosmoz,Polymer*/
		class XViewinfo extends Polymer.mixinBehaviors([Cosmoz.ViewInfoBehavior], Polymer.Element) {
			static get properties() {
				return {
					label: {
						type: String
					}
				};
			}
			static get is() {
				return 'x-viewinfo';
			}
			connectedCallback() {
				super.connectedCallback();
				console.log('x-viewinfo ' + this.label + ' attached');
				window.addEventListener('viewinfo-resize', this._viewInfoResize.bind(this));
			}
			disconnectedCallback() {
				super.disconnectedCallback();
				window.removeEventListener('viewinfo-resize', this._viewInfoResize.bind(this));
			}
			_viewInfoResize() {
				console.log('x-viewinfo ' + this.label + ' resize!');
			}
		}
		customElements.define(XViewinfo.is, XViewinfo);
	</script>
</dom-module>
